#include<stdio.h>
#include<stdlib.h>
#define MAX 6

int stack[MAX],top1=-1,top2=MAX;

void PushStack1(int value){
    if(top1 == top2-1)
        printf("Stack overflow.Cannot push data in stack-1");
    else{
        stack[++top1]=value;
        printf("\nPushed %d into stack-1\n",value);
    }
}


void PushStack2(int value){
    if(top1 == top2-1)
        printf("Stack overflow.Cannot push data in stack-2");
    else{
        stack[--top2]=value;
        printf("\nPushed %d into stack-2\n",value);
    }
}


int popStack1(){
    if(top1 == -1){
        printf("\nStack-1 underflow. Cannot pop from empty stack");
        return -1;
    }
    else{
        int val = stack[top1];
        top1--;
        return val;
    }
}


int popStack2(){
    if(top2 == -1){
        printf("\nStack-2 underflow. Cannot pop from empty stack");
        return -1;
    }
    else{
        int val = stack[top2];
        top2++;
        return val;
    }
}

void displayStack1(){
    if(top1 == -1)
        printf("\nStack-1 is empty\n");
    else{
        for(int i=top1;i>=0;i--){
            printf("\t%d\n",stack[i]);
        }
    }
}


void displayStack2(){
    if(top2 == MAX)
        printf("\nStack-2 is empty\n");
    else{
        for(int i=top2;i<MAX;i++){
            printf("\t%d\n",stack[i]);
        }
    }
}


int peekStack1(){
    if(top1 == -1){
        printf("\nStack-2 underflow \n");
        return -1;
    }
    else{
        return stack[top1];
    }
}


int peekStack2(){
    if(top2 == -1){
        printf("\nStack-2 underflow\n");
        return -1;
    }
    else{
        return stack[top2];
    }
}


int main(){
    int choice,val,res,num;
    while(1){
        printf("1.Push\n");
        printf("2.Pop\n");
        printf("3.Peek\n");
        printf("4.Display stack-2\n");
        printf("5.Display stack-1\n");
        printf("6.Exit\n");
        printf("Enter choice: ");
        scanf("%d", &choice); 
        switch(choice){
            case 1: 
                printf("Enter stack number(1,2):");
                scanf("%d",&num);
                printf("Enter value:");
                scanf("%d",&val);
                if(num == 1)
                    PushStack1(val);
                else if(num == 2)
                    PushStack2(val);
                else
                    printf("\nInvalid stack number!!");
                break;
             case 2: 
                printf("Enter stack number(1,2):");
                scanf("%d",&num);
                if(num == 1){
                    res = popStack1();
                    if(res!= -1)
                        printf("\n%d pop from stack-1\n",res);
                }
                else if(num == 2){
                    res = popStack2();
                    if(res!= -1)
                        printf("\n%d pop from stack-2\n",res);
                }
                else
                    printf("\nInvalid stack number!!");
                break;
             case 3:
                printf("Enter stack number(1,2):");
                scanf("%d",&num);
                if(num == 1){
                    res = peekStack1();
                    if(res!= -1)
                        printf("\n%d available at top of stack-1\n",res);
                }
                else if(num == 2){
                    res = peekStack2();
                    if(res!= -1)
                        printf("\n%d available at top of stack-2\n",res);
                }
                else
                    printf("\nInvalid stack number!!");
                break;
             case 4: 
                displayStack2();
                break;
            case 5: 
                displayStack1();
                break;
            case 6: 
                exit(0);
                break;
            default:
                printf("Invalid choice!!!");
        }
        printf("\n");
    } 
    return 0;
}
